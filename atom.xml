<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Ben Lindsay]]></title>
  <link href="http://benlindsay.github.io/atom.xml" rel="self"/>
  <link href="http://benlindsay.github.io/"/>
  <updated>2016-07-24T21:44:11-04:00</updated>
  <id>http://benlindsay.github.io/</id>
  <author>
    <name><![CDATA[Ben Lindsay]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Life Is Better With Git]]></title>
    <link href="http://benlindsay.github.io/blog/2016/01/life-is-better-with-git/"/>
    <updated>2016-01-05T21:36:17-05:00</updated>
    <id>http://benlindsay.github.io/blog/2016/01/life-is-better-with-git</id>
    <content type="html"><![CDATA[<p>If you’ve heard of Git, you probably think of it mainly as a tool that allows teams of developers to collaborate on a project. While version control systems like Git are crucial for multi-developer projects, it is still highly valuable even if you’re the only one who touches your code. If you’re someone who codes regularly (even if the code is only a couple hundred lines long) and you don’t use any form of version control software (like Git, Mercurial, or SVN), then this post is for you. My goal with this post is to show you that even if you can survive without Git, life is better with it.</p>

<!--more-->

<p>There’s a lot you can learn about Git, but you don’t have to know that much to start speeding up and cleaning up your workflow. The list of commands below covers most of what you’ll need to get started. The rest of this post shows you how to use them. Roger Dudler’s <a href="http://rogerdudler.github.io/git-guide/">simple guide to Git</a> is a great resource to look back at after you get started. Almost any other question you could ask about Git has already been asked and answered on <a href="http://stackoverflow.com/">StackOverflow</a>, so Google is your friend.</p>

<p>Here are what I consider the most important commands when starting out with Git:</p>

<ul>
  <li><strong>Just once to set your user name and email for your whole system:</strong>
    <ul>
      <li><code>git config --global user.name "John Doe"</code></li>
      <li><code>git config --global user.email johndoe@example.com</code></li>
    </ul>
  </li>
  <li><strong>Once per repository to initialize:</strong>
    <ul>
      <li><code>git init</code></li>
      <li><code>git remote add origin https://github.com/&lt;username&gt;/&lt;reposity_name&gt;.git</code></li>
      <li><code>git push -u origin --all</code></li>
    </ul>
  </li>
  <li><strong>Save the code’s current state:</strong>
    <ul>
      <li><code>git add .</code></li>
      <li><code>git commit -m "commit message"</code></li>
      <li><code>git push origin master</code></li>
    </ul>
  </li>
  <li><strong>Pull changes from the remote repository to your local one:</strong>
    <ul>
      <li><code>git pull</code></li>
    </ul>
  </li>
  <li><strong>Look at current commit status:</strong>
    <ul>
      <li><code>git status</code></li>
    </ul>
  </li>
  <li><strong>Look at commit history:</strong>
    <ul>
      <li><code>git log</code></li>
    </ul>
  </li>
</ul>

<h2 id="what-does-git-do-for-you">What Does Git Do For You?</h2>

<p>Git keeps a <em>full history</em> of all the changes you’ve made to your code in a magic Git <strong>repository</strong>. This is a set of files stored in the <code>.git</code> folder in the top directory of the code you want to track. For me, this immediately allowed me to make three big changes to my coding workflow:</p>

<ol>
  <li>No more manually backing up my code into an archive folder before making big changes</li>
  <li>No more commented out chunks of previous code cluttering my files</li>
  <li>No more copying whole new folders over to remote machines every time I want to update my code changes on them</li>
</ol>

<p>The primary unit of Git is a <strong>commit</strong>. Any time your project is in a state you’d like to save, you commit those changes into your Git repository. You can <strong>checkout</strong> any of your commits at any time, meaning you load files as they were at the time of the commit into your workspace.</p>

<h2 id="how-do-i-start-using-git">How Do I Start Using Git?</h2>

<p>OK, so you’re convinced. Here’s how to start:</p>

<h3 id="see-if-git-is-installed">1. See if Git is Installed</h3>

<p>Open a terminal window and type <code>which git</code>. (If you’re on a Windows system, you’ll need to have Cygwin or something to give you a Unix-like terminal, otherwise I can’t guarantee that any of this will work for you.) Typing <code>which git</code> will return <code>/usr/local/bin/git</code> or some other path if it’s installed. If it does, you’re golden. If it returns nothing, you need to download it.</p>

<h3 id="install-git-if-necessary">2. Install Git (if necessary)</h3>

<p><strong>Mac:</strong></p>

<p>If you’re on a Mac, installing Xcode or just the Xcode command-line tools (type <code>xcode-select --install</code> in command line) will do it. However, I’d recommend installing using Homebrew (<code>brew doctor; brew update; brew install git</code>). If you don’t have Homebrew installed (i.e. <code>which brew</code> returns nothing) then go install it. It’s awesome for really easily installing and updating command-line tools. To install it, go to the <a href="http://brew.sh/">Homebrew website</a>, copy the install line, paste it into a terminal, press enter, and you’re set. If you have Git installed by both Xcode and Homebrew, make sure <code>/usr/local/bin</code> comes before <code>/usr/bin</code> in your path (i.e. have <code>export PATH="/usr/local/bin:$PATH"</code> in your <code>~/.bash_profile</code> file) so the Homebrew version is used. Sorry, little bit of a tangent there.</p>

<p><strong>Linux:</strong></p>

<p>If you’re on a Linux system, use <code>apt-get install git</code>, or replace <code>apt-get</code> with whatever package manager you use (go <a href="https://git-scm.com/download/linux">here</a> for more specifics). If you don’t have root access, instructions can be found <a href="http://joemaller.com/908/how-to-install-git-on-a-shared-host/">here</a> to install locally.</p>

<p><strong>Windows:</strong></p>

<p>If you’re on Windows, go <a href="https://git-scm.com/download/win">here</a> and do your thing.</p>

<h3 id="configure-name-and-email">3. Configure Name and Email</h3>

<p>Git attaches your name and email to every commit you make. You just need to configure them once on your computer, and Git will get it right on all of your projects after that. You can change them at any time later on. Type these commands to configure Git:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git config --global user.name "Joe Schmoe"
</span><span class="line">$ git config --global user.email joeschmoe@gmail.com</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If you’re not sure if Git already knows your name and email, just type <code>git config --global user.name</code> and <code>git config --global user.email</code> and Git will tell you what it thinks they are.</p>

<h3 id="initialize-a-git-repository">4. Initialize a Git Repository</h3>

<p>First, let’s create an awesome project:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ mkdir awesome-project
</span><span class="line">$ cd awesome-project
</span><span class="line">$ echo "This is an awesome project." &gt; README.md
</span><span class="line">$ echo "print 'Hello, World!'" &gt; hello.py
</span><span class="line">$ ls -a
</span><span class="line">.         ..        README.md hello.py</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now we initialize a Git repository:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git init
</span><span class="line">Initialized empty Git repository in /Users/benlindsay/awesome-project/.git/
</span><span class="line">$ ls -a
</span><span class="line">.         ..        .git      README.md hello.py</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So now you have the magical <code>.git</code> folder that keeps track of everything for you. What’s the status of our repository?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git status  
</span><span class="line">On branch master 
</span><span class="line"> 
</span><span class="line">Initial commit 
</span><span class="line"> 
</span><span class="line">Untracked files: 
</span><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed) 
</span><span class="line">  
</span><span class="line">        README.md 
</span><span class="line">        hello.py 
</span><span class="line">  
</span><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So Git sees that there are files present that haven’t been committed. Next, you need to…</p>

<h3 id="make-your-first-commit">5. Make Your First Commit</h3>

<p>Git uses a 2-step commit process. First, you use <code>git add</code> to tell Git what files you want to include in the commit. In Git-speak, this is called <strong>staging</strong> files, or adding files to the <strong>index</strong>. Often, I will just add all files in the project using</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git add .</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>but you could also pick and choose which files to add. Note that adding is recursive, so if you use <code>git add .</code> all subdirectories and contained files will be added. <code>git add *</code> on the other hand would just add all the files in the current directory, since that’s how Bash interprets <code>*</code></p>

<p>Now what’s our status?</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git status
</span><span class="line">On branch master
</span><span class="line">
</span><span class="line">Initial commit
</span><span class="line">
</span><span class="line">Changes to be committed:
</span><span class="line">  (use "git rm --cached &lt;file&gt;..." to unstage)
</span><span class="line">
</span><span class="line">        new file:   README.md
</span><span class="line">        new file:   hello.py</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So now we have changes ready to commit. To commit, type <code>git commit -m "Short explanation of changes you've made"</code></p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git commit -m "First commit"</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Finally, our current status is:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git status
</span><span class="line">On branch master
</span><span class="line">nothing to commit, working directory clean</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Your typical workflow will just be to type <code>git add .</code> then <code>git commit -m "commit message"</code> whenever you’ve made changes to your project that you want to save.</p>

<h3 id="backup-your-code-on-githubhttpsgithubcom-or-bitbuckethttpsbitbucketorg">6. Backup Your Code on <a href="https://github.com">GitHub</a> or <a href="https://bitbucket.org">Bitbucket</a></h3>

<p>Git makes it very easy to keep your project backed up on external servers. This could be any server you have SSH access to, but you should use GitHub or Bitbucket since they have really nice user interfaces to view, track, and (if desired) share and collaborate on your code.</p>

<p>GitHub and Bitbucket both have nice interfaces with pretty much the same functionalities. The only major differences that I see are that 1) GitHub is like a social network for coders, and it’s the go-to place to share open-source projects, and 2) Bitbucket allows unlimited private repositories for small teams (up to 5 people unless you have an academic account) while GitHub only allows publicly shared repositories (unless you pay them money). I’ll talk about setting up Bitbucket from here on out, because the private repo functionality is nice if you’re not ready to share your project with the world. Everything is almost exactly the same for using GitHub, except you’d use <code>github.com</code> anywhere you see <code>bitbucket.org</code>.</p>

<p>First, you need to set up an account on Bitbucket. It’s super easy and free. You just need to enter your name, username, password, email address, and plan (choose “Personal Account”). If you have a <code>.edu</code> email, use that. It gets you an academic account which means unlimited team sizes on private repositories for free. Confirm the email they send you and you’re set.</p>

<p>Next, sign in to Bitbucket, select “Create” in the menu bar, then click on “Create repository” in the drop-down menu.</p>

<p><img src="http://benlindsay.github.io/images/bitbucket_menu_create_repo.png" alt="Bitbucket Repositories Menu" title="Bitbucket Repositories Menu" /></p>

<p>This will bring up a page shown below. For repository name, I usually make it match my project name on my computer, but I put “cool-project” here instead of “awesome-project” just to prove that it doesn’t have to match. Leave “This is a private repository” checked if you only want people to be able to see the project if you give them access rights. If you uncheck it, anyone with the URL can see your project. It’s not necessary to select the language of your project, but there’s no reason not to.</p>

<p><img src="http://benlindsay.github.io/images/bitbucket_create_new_repo_page.png" alt="Bitbucket Create New Repository Page" title="Bitbucket Create New Repository Page" /></p>

<p>After clicking “Create repository”, you’ll be taken to <code>bitbucket.org/yourusername/cool-project,</code> which will look like this:</p>

<p><img src="http://benlindsay.github.io/images/bitbucket_repo_setup_page.png" alt="Bitbucket Repository Setup Page" title="Bitbucket Repository Setup Page" /></p>

<p>If you click “I have an existing project”, as I have in the screenshot above, it kindly tells you what to type in your terminal to push your repository up to Bitbucket. Since I’m already in the directory of my project, I’ll skip <code>cd /path/to/my/repo</code>, and since I haven’t defined any version tags (like 2.1.4–I won’t cover git tags here), I can skip <code>git push -u origin --tags</code>. All I have to type is</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git remote add origin https://benlindsay@bitbucket.org/benlindsay/cool-project.git
</span><span class="line">$ git push -u origin --all</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Git will ask you for your Bitbucket password after the push command, then it will spit out a bunch of stuff basically saying it successfully pushed your project up to Bitbucket. Now, if you refresh your Bitbucket page, it should look like this:</p>

<p><img src="http://benlindsay.github.io/images/bitbucket_repo_after_first_push.png" alt="Bitbucket Repository Page After First Push" title="Bitbucket Repository Page After First Push" /></p>

<p>You’ll notice that the contents of <code>README.md</code> (“This is an awesome project.”) have been displayed on the Overview page. Both Bitbucket and GitHub look for <code>README.md</code> in the main directory of your project and display its contents on the main repository page. For info on the user-friendly markdown syntax Bitbucket looks for in <code>README.md</code> files, see this <a href="https://bitbucket.org/tutorials/markdowndemo/overview">tutorial</a>.</p>

<p>From this page, you can click on the “Source” link in the sidebar to explore the source files in their current state, or the “Commits” link in the sidebar to see the changes made in any commit.</p>

<h3 id="syncing-project-with-another-machine">7. Syncing Project With Another Machine</h3>

<p>So now I have my awesome project on my laptop, and a full backup of my project on Bitbucket. From this setup, it’s incredibly easy to create copies of this project anywhere you want and keep each copy of the project up-to-date. This has been incredibly useful for me, since I typically code on one machine, and run production simulations on another.</p>

<p>If you SSH into a different machine and make sure Git is installed and configured as discussed in steps 1 and 2 above, you can do this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ mkdir my-projects-dir
</span><span class="line">$ cd my-projects-dir
</span><span class="line">$ git clone https://benlindsay@bitbucket.org/benlindsay/cool-project.git 
</span><span class="line">$ ls
</span><span class="line">cool-project/</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>If you left “Private repository” checked in Bitbucket, you’ll be asked for your password. The URL you paste after <code>git clone</code> can be copied from the top of the Overview page in Bitbucket (you can see it in the image above). The only difference using that URL and the URL in the search bar in your browser is the <code>username@</code> before <code>bitbucket.org</code>. Without that <code>username@</code> part, you’ll just be asked for your username when you clone in addition to your password (unless you unchecked “Private repository”).</p>

<p>The clone you just created is another full backup with your full project history, just like the one on your laptop and the one on Bitbucket. This means that if you dropped your laptop in a volcano and an asteroid hit the Bitbucket servers but not the machine you SSH’d into, then you haven’t lost anything (assuming you didn’t have anything else on your laptop).</p>

<p>From here, you can do your coding on your laptop or the remote machine. There’s no difference either way. If you do want to switch which machine you code on, just make sure all changes are committed and synced across your laptop, Bitbucket, and your external machine before switching.</p>

<p>Let’s make a change on our external machine now.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ cd cool-project/
</span><span class="line">$ echo -e "\n**Author:** Ben Lindsay" &gt;&gt; README.md
</span><span class="line">$ cat README.md
</span><span class="line">This is an awesome project.
</span><span class="line">
</span><span class="line">**Author:** Ben Lindsay</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now we commit the change:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git add .
</span><span class="line">$ git commit -m "Added author to README.md with some markdown syntax included"</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>And push the commit up to Bitbucket:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ git push origin master</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now to sync the project on your laptop, from within the project directory on the laptop, you just need to type <code>git pull</code>:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ cat README.md
</span><span class="line">This is an awesome project.
</span><span class="line">$ git pull
</span><span class="line">$ cat README.md
</span><span class="line">This is an awesome project.
</span><span class="line">
</span><span class="line">**Author:** Ben Lindsay</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3 id="save-commit-hash-for-reproducible-research">8. Save Commit Hash for Reproducible Research</h3>

<p>Each commit you make has a unique 40-character <strong>SHA-1 hash</strong>. If you type <code>git log</code> you’ll see a list of commits you’ve made along with a long string of numbers and letters. That is the hash. Usually the first 7 or 8 characters will be all you need.</p>

<p>What’s great about this is that as long as you know the first several characters of the hash associated with the state of your source code at any given time, you can get your code back exactly the way it was at that time. This means that if you use your code to generate some results and you save the beginning of that string of characters somewhere along with those results, you’ll never have to wonder what the code looked like then. Adding this step to your workflow can save a lot of pain down the road if you’re trying to replicate past results using code you’ve been actively developing.</p>

<h3 id="branches-and-checkouts">9. Branches and Checkouts</h3>

<p>I’ll add stuff branching and checking out previous commits later. These are really cool concepts that further add to what you can do with your code. For now, here’s a <a href="http://rogerdudler.github.io/git-guide/">great simple reference</a> by Roger Dudler, which, as he says, contains “no deep shit”. I look back at this all the time.</p>

<p>Good luck! Feel free to leave comments and questions below.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Getting More Out of Vim]]></title>
    <link href="http://benlindsay.github.io/blog/2015/12/getting-more-out-of-vim/"/>
    <updated>2015-12-24T08:53:11-05:00</updated>
    <id>http://benlindsay.github.io/blog/2015/12/getting-more-out-of-vim</id>
    <content type="html"><![CDATA[<p>For those of you who don’t know, Vim is a powerful command-line text editor. It is the improved version of it’s predecessor, Vi (in fact, it stands for Vi IMproved). I’m a big fan of Vim for coding and text editing. I started using it a few years ago only because it was the only way I knew how to edit files when SSH-ing onto a remote Linux machine. Now that I’ve spent time learning how to use it right, I find it faster than any GUI text editor I’ve used before. There is a somewhat steep learning curve, but if you do a lot of coding or plain-text editing, it’s definitely worth investing some time to learn how to use Vim right. Hopefully this post can provide some direction if you are intimidated by Vim like I was when I first started.</p>

<!--more-->

<p>If you’re just starting Vim and need some basic directions, I’d look at <a href="http://computers.tutsplus.com/tutorials/vim-for-beginners--cms-21118">this tutorial</a>. A good reference to look back at after going through this tutorial can be found <a href="https://simpletutorials.com/c/1238/Simple+Vim+Reference">here</a>. Even these introductory materials have a <em>lot</em> of commands though, so I’ll summarize the steps I’d recommend taking to getting more out of Vim.</p>

<h2 id="install-vim-pathogen">1. Install Vim-Pathogen</h2>

<p>Before anything else, I want to put in a plug for <a href="https://github.com/tpope/vim-pathogen">Vim-Pathogen</a>. To get the most out of Vim, you might want to add a some plugins for things like file system navigation (<a href="https://github.com/scrooloose/nerdtree">NERD Tree</a>), auto-closing parentheses and brackets (<a href="https://github.com/Townk/vim-autoclose">Vim-Autoclose</a>), and writing and compiling LaTeX files (<a href="https://github.com/LaTeX-Box-Team/LaTeX-Box">LaTeX-Box</a>). Once you install <a href="https://github.com/tpope">Tim Pope</a>’s <a href="https://github.com/tpope/vim-pathogen">Vim-Pathogen</a> script, installing any new plugins is super easy.</p>

<p>Setting up Vim-Pathogen itself is pretty easy too. Just follow the instructions on <a href="https://github.com/tpope/vim-pathogen">github.com/tpope/vim-pathogen</a>. At the end of your setup, you will have a <code>.vim</code> folder in your home directory organized like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ tree ~/.vim
</span><span class="line">.
</span><span class="line">├── autoload
</span><span class="line">│   └── pathogen.vim
</span><span class="line">└── bundle</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>From there, all you ever need to do to install a plugin is find the plugin repository on GitHub and <code>git clone</code> it in your <code>~/.vim/bundle</code> folder. For example, to install the NERD Tree plugin, you would:</p>

<ol>
  <li>Google something like “vim nerd tree”</li>
  <li>Find the link to a GitHub repo (<a href="https://github.com/scrooloose/nerdtree">https://github.com/scrooloose/nerdtree</a>)</li>
  <li><code>cd ~/.vim/bundle</code></li>
  <li><code>git clone https://github.com/scrooloose/nerdtree</code></li>
  <li>Open Vim and type <code>:Helptags</code> to update the help menu in Vim.</li>
</ol>

<p>And just like that you’re all set up with your new plugin. If you ever want to remove or temporarily disable a plugin, just delete the cloned repo (<code>rm -rf ~/.vim/bundle/nerdtree</code>) or move it somewhere else (<code>mv ~/.vim/bundle/nerdtree /any/other/path</code>).</p>

<h2 id="practice-navigation">2. Practice Navigation</h2>

<p>The ability to navigate around Vim without having to leave the keyboard home row is in my opinion its biggest time-saving feature, but it takes a bit of practice to get the hang of it. The resources I listed above are great references to look back on if you forget some commands.</p>

<p>The best thing to start practicing is maneuvering with the <code>hjkl</code> keys instead of the arrow keys. It’s strange at first, but it becomes second nature soon enough. To make best use of this navigation technique, keep in mind that you want to be in <strong>Normal</strong> mode instead of <strong>Insert</strong> mode any time you aren’t adding text to your file. Get in the habit of hitting <code>ESC</code> or the equivalent <code>CTRL-C</code> (I prefer <code>CTRL-C</code>) any time you take a break from typing so you don’t start adding a bunch of h’s, j’s, k’s , and l’s to your file. Here’s a silly <a href="http://vim-adventures.com">game</a> you can play if you want to have fun while practicing Vim navigation.</p>

<p>Here’s a short list of the other navigation techniques (all used in <strong>Normal</strong> mode) I use most frequently:</p>

<ol>
  <li>Typing a number before <code>h</code>, <code>j</code>, <code>k</code>, or <code>l</code> navigates in that direction that number of times. For example, <code>10j</code> moves down 10 lines.</li>
  <li><code>28G</code> moves to line 28. Have <code>:set nu</code> typed somewhere in your <code>~/.vimrc</code> file so the line numbers show up when you’re in Vim.</li>
  <li><code>gg</code> or <code>G</code> move to the top or bottom of the file, respectively.</li>
  <li><code>/foo</code> moves to the next place “foo” is found in the document (case sensitive). Typing <code>n</code> then moves to the next one and typing <code>N</code> moves to the previous one.</li>
  <li><code>0</code> and <code>$</code> move to the beggining and end of the line, respectively.</li>
  <li><code>W</code> and <code>B</code> take you to the beginning of the next WORD and previous WORD, respectivley. In Vim, WORDS are chunks of text separated by white space and words are more like normal words. For example, in a line that looks like <code>words-making/up.a!big~WORD WORD-2</code>, typing <code>W</code> would take you to the beginning of <code>WORD-2</code>, whereas typing <code>w</code> or <code>b</code>, which navigate between vim words (instead of WORDS), would hit all the <code>-/.!~</code> characters in addition to the beginnings of english words.</li>
  <li><code>fh</code> moves to the next occurrence of the character “h” within the line. <code>th</code> does the same thing but places the cursor just before the “h” instead of right on it.</li>
  <li><code>{</code> and <code>}</code> take you to the previous and next paragraph, respectively. <code>(</code> and <code>)</code> do the same with sentences. This is really nice when typing a lot of text as opposed to code. You can still use them with code, but they’re just not as predictable.</li>
</ol>

<h2 id="learn-to-speak-vim">3. Learn to Speak Vim</h2>

<p>What I mean by this is that Vim has a unique command syntax that makes it easy to supercharge your commands. Yan Pritzker has a great post about this <a href="http://yanpritzker.com/2011/12/16/learn-to-speak-vim-verbs-nouns-and-modifiers/">here</a>.</p>

<p>In addition to the <code>&lt;verb&gt;&lt;modifier&gt;&lt;text object&gt;</code> syntax explained in the article, there is also a useful <code>&lt;verb&gt;&lt;navigation command&gt;</code> syntax that I frequently use. A typical example is something like <code>d3j</code>. Here, <code>d</code> is the verb for delete, and <code>3j</code> tells Vim how far to go, in this case, down 3 lines. So <code>d3j</code> deletes the current line and the following 3 lines. You can use any of the navigation commands mentioned above in place of <code>3j</code> and any verb in place of <code>d</code>. Common verbs are <code>c</code> for change (delete specified region and enter insert mode) and <code>y</code> for yank (Vim’s word for copy, where p or P can be used to paste what you copy).</p>

<p>No go out and practice this stuff, and hopefully you’ll see why so many people swear by Vim. If you have thoughts, comments, corrections, or additions you’d like to see, let me know!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Parameter Sweep Bash Script]]></title>
    <link href="http://benlindsay.github.io/blog/2015/12/parameter-sweep-bash-script/"/>
    <updated>2015-12-19T11:09:40-05:00</updated>
    <id>http://benlindsay.github.io/blog/2015/12/parameter-sweep-bash-script</id>
    <content type="html"><![CDATA[<p>In my polymer field theory research, often my studies involve running a bunch of simulations where I pick one or more input parameters and change them over a range of values, then compare the results of each separate simulation to see how that/those variable(s) affect the system I’m simulating. This kind of study is called a “parameter sweep”, and can also be referred to as “embarrassingly parallel”, because the processor(s) for each for each individual job don’t need to communicate with the processor(s) from any other job. It can be very tedious to manually create input files for each job, so I wrote a bash script to help me out.</p>

<!--more-->

<p>For example, if I want to simulate 3 different polymer nanocomposite systems, each with a different nanorod length, I could manually create 3 directories like so:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">mkdir length1
</span><span class="line">mkdir length2
</span><span class="line">mkdir length3</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Then I could copy an input file, <code>bcp.input</code>, and a submit file, <code>sub.sh</code> into each of those folders like so:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="k">for</span> d in length*/ <span class="p">;</span> <span class="k">do</span>
</span><span class="line">  cp bcp.input <span class="s2">&quot;$d&quot;</span>
</span><span class="line">  cp sub.sh <span class="s2">&quot;$d&quot;</span>
</span><span class="line"><span class="k">done</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Then I could proceed to manually edit all 6 files (or just 3 if the submission script doesn’t have to change). If it’s just 3 files, it’s not too bad, but if I want to run 10 or 20 simulations with slight changes in the input file for each one, manual editing gets real tedious real fast. I got fed up with it and wrote a script to do all the editing for me. The script is called <code>param-sweep.sh</code>. Feel free to look at it on <a href="https://bitbucket.org/benlindsay/param-sweep.git">Bitbucket</a>.</p>

<p>Before running the script, I make a template for the input file and submission script with parameter names that the script will replace with parameter values. My input file template could look something like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="m">1000</span>        <span class="c"># Number of iterations</span>
</span><span class="line"><span class="m">60</span>          <span class="c"># Polymer length</span>
</span><span class="line"><span class="m">1</span>           <span class="c"># Nanorod radius</span>
</span><span class="line">NRLENGTH    <span class="c"># Nanorod length</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>and my submission script template could look something like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="bash"><span class="line"><span class="c">#!/bin/sh</span>
</span><span class="line"><span class="c">#PBS -N TRIALNAME</span>
</span><span class="line"><span class="c">#PBS -l nodes=1:ppn=12</span>
</span><span class="line"><span class="c">#PBS -l walltime=01:00:00,mem=2gb</span>
</span><span class="line">
</span><span class="line"><span class="nb">cd</span> <span class="nv">$PBS_O_WORKDIR</span>
</span><span class="line">
</span><span class="line"><span class="c"># Run code that looks for bcp.input in the current directory</span>
</span><span class="line">mpirun <span class="nv">$HOME</span>/code/awesome_code.exe
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In this example, I want to replace <code>NRLENGTH</code> with the actual nanorod length for each <code>bcp.input</code> file in <code>./length1</code>, <code>./length2</code>, and <code>./length3</code>, and I want to replace <code>TRIALNAME</code> with a name corresponding to each simulation in each <code>sub.sh</code> file. The script does this by looking through a <code>trials.txt</code> file I make that would look like this in this case:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class=""><span class="line">name        i:NRLENGTH  s:TRIALNAME
</span><span class="line">length1     4           length1-trial
</span><span class="line">length2     5           length2-trial
</span><span class="line">length3     6           length3-trial</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The <code>i:</code> and <code>s:</code> before <code>NRLENGTH</code> and <code>TRIALNAME</code>, respectively, tell the script to look in the input file or submission script for each variable. Finally, let’s look at how to use the script:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
</pre></td><td class="code"><pre><code class=""><span class="line">$ ls
</span><span class="line">bcp.input   trials.txt  sub.sh
</span><span class="line">$ ~/scripts/param-sweep.sh -t trials.txt -i bcp.input -s sub.sh
</span><span class="line">Trials file:        trials.txt 
</span><span class="line">Input file:         bcp.input
</span><span class="line">Submission script:  sub.sh
</span><span class="line">3 trials
</span><span class="line">2 vars
</span><span class="line">Submitting trial length1:
</span><span class="line">1443364.rrlogin.internal
</span><span class="line">Submitting trial length2:
</span><span class="line">1443365.rrlogin.internal
</span><span class="line">Submitting trial length3:
</span><span class="line">1443366.rrlogin.internal
</span><span class="line">$ tree
</span><span class="line">.
</span><span class="line">├── bcp.input
</span><span class="line">├── length1
</span><span class="line">│   ├── bcp.input
</span><span class="line">│   └── sub.sh
</span><span class="line">├── length2
</span><span class="line">│   ├── bcp.input
</span><span class="line">│   └── sub.sh
</span><span class="line">├── length3
</span><span class="line">│   ├── bcp.input
</span><span class="line">│   └── sub.sh
</span><span class="line">├── sub.sh
</span><span class="line">└── trials.txt</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>So the script made directories for all three simulations, replaced <code>NRLENGTH</code> with <code>4</code>, <code>5</code>, and <code>6</code> in the <code>bcp.input</code> files, replaced <code>TRIALNAME</code> with <code>length1-trial</code>, <code>length2-trial</code>, and <code>length3-trial</code> in the <code>sub.sh</code> files, and submitted the <code>sub.sh</code> files from within their respective simulation directories. In this case, since my script expects files with the names I used, I could have just typed <code>~/scripts/param-sweep.sh</code>. If I wanted to be able to check the files before submitting, I could have typed <code>~/scripts/param-sweep.sh -n</code> which would create the directories and files without submitting the jobs.</p>

<p>A few caveats: the script isn’t currently set up to handle more than one layer of simulation directories. Also, the script as it’s set up right now copies whatever input file and submission script its fed to files named <code>bcp.input</code> and <code>sub.sh</code>. Finally, you’ll need to make sure that the variable name you want the script to find and replace with variable values doesn’t show up anywhere else in the file. The script will find and replace all instances of the variable name (case sensitive).</p>

<p>This script has saved me a lot of time. Hopefully it can help someone else out there too.</p>

]]></content>
  </entry>
  
</feed>
