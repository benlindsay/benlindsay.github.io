{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/interactive-d3-map-of-baby-name-popularity","webpackCompilationHash":"4b080084c1839d919188","result":{"data":{"markdownRemark":{"id":"77751f6a-04d6-5b5e-beda-c893ef1539f5","html":"<div>\n<iframe width=\"100%\" height=\"400px\" style=\"border:0px;\" src=\"https://baby-name-map.surge.sh\"></iframe>\n</div>\n<p>The map above is an <code class=\"language-text\">iframe</code> of\n<a href=\"https://baby-name-map.surge.sh\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">baby-name-map.surge.sh</a>, so the interactivity\ncan be a little laggy. If you follow the link and play with it there, the map\nmight respond faster when dragging the Year slider.</p>\n<h2 id=\"using-and-understanding-this-map\"><a href=\"#using-and-understanding-this-map\" aria-label=\"using and understanding this map permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using and Understanding this Map</h2>\n<p>To use the map above, select a name from the dropdown list (you should be\nable to type a name if you don’t want to scroll), then drag the slider to\nmove in time between the years 1910 and 2014. The color hue (pink vs. blue)\nin each state tells you whether the name was more popular for baby girls or\nboys. The color tone (dark pink vs. light pink) corresponds to the name’s\npopularity among babies of that gender. “Popularity” is measured by the\npercentage of babies of either gender given that name.</p>\n<p>For ideas on where to start, try out some of the more popular gender neutral\nnames described in a <a href=\"http://fivethirtyeight.com/features/there-are-922-unisex-names-in-america-is-yours-one-of-them/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FiveThirtyEight\narticle</a>\nsuch as Casey, Riley, Jessie, or Jackie. Or look at Jaime (also in that list)\nand see the popularity skyrocket in 1976, which turns out to be when <a href=\"http://www.imdb.com/title/tt0073965/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The\nBionic Woman</a> aired on TV, portraying\nthe adventures of a female cyborg spy named Jaime Sommers.</p>\n<h2 id=\"why-i-made-this\"><a href=\"#why-i-made-this\" aria-label=\"why i made this permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why I Made This</h2>\n<ol>\n<li>My wife and I recently had a baby, so I’ve been interested in baby name trends and wanted an interactive way to visualize them.</li>\n<li>I wanted to learn how to use D3, and Mike Bostock’s <a href=\"https://bl.ocks.org/mbostock/8ca036b3505121279daf\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Quantile Chloropleth</a> example caught my eye.</li>\n</ol>\n<p>I’ll split my discussion of this project into 3 parts: the data prep part, the D3 part, and the playing with the map part.</p>\n<h2 id=\"the-data-prep-part\"><a href=\"#the-data-prep-part\" aria-label=\"the data prep part permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Data Prep Part</h2>\n<p>I wanted the map to respond quickly to moving the slider for any given name,\nbut I didn’t want the browser to have to load in too much data at a time, so\nI decided to make a separate file for each name which contained all the data\nrelevant to that name. The raw data, which I downloaded from\n<a href=\"https://www.kaggle.com/kaggle/us-baby-names\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Kaggle</a>, (<a href=\"https://www.kaggle.com/kaggle/us-baby-names/downloads/us-baby-names-release-2015-12-18-00-53-48.zip\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">data download link\nhere</a>)\nneeded to be processed a bit before my map could use it. An IPython Notebook\nusing the <em>pandas</em> Python module was a great tool for this purpose. You can\nsee <a href=\"https://github.com/benlindsay/baby-name-map-preprocess/blob/master/preprocess.ipynb\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">my Notebook on\nGitHub</a>.\n(I’m pretty excited that GitHub now <a href=\"http://blog.jupyter.org/2015/05/07/rendering-notebooks-on-github/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">renders the contents of IPython\nNotebooks</a>\nby the way.)</p>\n<p>I’ve been using Python (mostly <em>numpy</em>) for data analysis for a couple years\nnow, but this was my first real introduction to <em>pandas</em>. I found the\n<a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.pivot_table.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">DataFrame.pivot_table()</a>\nfunction particularly useful in this project. It allowed me to very easily\ncreate a dataframe with states as the rows and years as the columns out of a\ndataframe with a different row for each name.</p>\n<h2 id=\"the-d3-part\"><a href=\"#the-d3-part\" aria-label=\"the d3 part permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The D3 Part</h2>\n<p>Creating the map using\n<a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.pivot_table.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">D3</a>\nwasn’t as difficult as I expected. It was mostly a matter of following along with Mike\nBostock’s <a href=\"https://bl.ocks.org/mbostock/4060606\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">choropleth example</a>. Scott Murray’s <a href=\"http://alignedleft.com/tutorials/d3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">D3 Tutorials</a> were also\nincredibly useful. I highly recommend them for anyone interested in checking out\nD3. The Javascript code used to generate the map can be seen <a href=\"https://github.com/benlindsay/baby-name-map-preprocess/blob/master/choro.js\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<h2 id=\"the-playing-with-the-map-part\"><a href=\"#the-playing-with-the-map-part\" aria-label=\"the playing with the map part permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Playing With the Map Part</h2>\n<p>The gender neutral names make the most interesting visualizations, so I\nlooked through FiveThirtyEight’s list of the <a href=\"http://fivethirtyeight.com/features/there-are-922-unisex-names-in-america-is-yours-one-of-them/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">most popular gender neutral\nnames</a>.</p>\n<p>Casey, the most popular one, is interesting because of how clean the male/female\nsplit was at some points. Here’s what it looked like in 1980:</p>\n<p><img src=\"/media/Casey_1980.png\" alt=\"Casey in 1980\"></p>\n<p>Another interesting one was Jaime. Here’s the map for Jaime in 1975:</p>\n<p><img src=\"/media/Jaime_1975.png\" alt=\"Jaime in 1975\"></p>\n<p>Just one year later, when <a href=\"http://www.imdb.com/title/tt0073965/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">The Bionic\nWoman</a> aired on TV, everyone must have\nloved Jaime, the female cyborg spy because suddenly Jaime’s popularity among\nbabies skyrocketed. Here’s the map for 1976:</p>\n<p><img src=\"/media/Jaime_1976.png\" alt=\"Jaime in 1976\"></p>\n<p>If you see anything interesting with other names, go ahead and post below.</p>","fields":{"slug":"/posts/interactive-d3-map-of-baby-name-popularity","tagSlugs":["/tag/python/","/tag/d-3/","/tag/data-visualization/"]},"frontmatter":{"date":"2016-07-24","description":"I built a D3 map showing baby name popularity by state with an interactive time slider you can use to see how the popularity changes over time. Come check it out!","tags":["python","d3","data visualization"],"title":"Interactive D3 Map of Baby Name Popularity"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/interactive-d3-map-of-baby-name-popularity"}}}